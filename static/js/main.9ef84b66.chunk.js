(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),o=t(20),i=t.n(o),l=t(15),c=t(6),s=t(7);t(71);function u(){var n=Object(c.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    outline: none;\n  }\n\n  body, html {\n    background-color: #273a47;\n    height: 100vh;\n    text-rendering: optimizeLegibility !important;\n    -webkit-font-smoothing: antialiased !important;\n    font-family: Arial, Helvetica, sans-serif;\n  }\n\n  #root {\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .none {\n    display: none;\n  }\n"]);return u=function(){return n},n}var f=Object(s.a)(u()),p=(t(72),t(84),t(85),t(5)),d=t(60),m=t(22),b=t(17),h={ADD_REQUEST:"favorites/ADD_REQUEST",ADD_SUCCESS:"favorites/ADD_SUCCESS",ATT_SUCCESS:"favorites/ATT_SUCCESS",REMOVE:"favorites/REMOVE"},g={data:JSON.parse(localStorage.getItem("@github_favorite:favorites"))||[]};var v={addFavoriteRequest:function(n,e){return{type:h.ADD_REQUEST,payload:{repository:n,refreshing:e}}},addFavoriteSuccess:function(n){return{type:h.ADD_SUCCESS,payload:{repository:n}}},attFavoriteSuccess:function(n){return{type:h.ATT_SUCCESS,payload:{repository:n}}},removeFavorite:function(n){return{type:h.REMOVE,payload:{id:n}}}},x=Object(p.c)({favorites:function(){var n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,a=function(n){return localStorage.setItem("@github_favorite:favorites",JSON.stringify(Object(b.a)(n)))};switch(t.type){case h.ADD_SUCCESS:return a(n=[].concat(Object(b.a)(e.data),[t.payload.repository])),Object(m.a)({},e,{data:Object(b.a)(n)});case h.REMOVE:return a(n=e.data.filter(function(n){return n.id!==t.payload.id})),Object(m.a)({},e,{data:Object(b.a)(n)});case h.ATT_SUCCESS:var r=t.payload.repository;return a(n=e.data.map(function(n){return n.id===r.id?r:n})),Object(m.a)({},e,{data:Object(b.a)(n)});default:return e}}}),E=t(12),y=t.n(E),S=t(16),w=t(57),O=t.n(w).a.create({baseURL:"https://api.github.com"}),j=t(58),k=t.n(j),C=y.a.mark(_);function _(n){var e,t,a,r;return y.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=n.payload,o.prev=1,o.next=4,Object(S.call)(O.get,"repos/".concat(e.repository));case 4:if(t=o.sent,a=t.data,r={img:a.owner.avatar_url,id:a.id,owner:a.owner.login,name:a.name,description:a.description,stars:a.stargazers_count,forks:a.forks_count,issues:a.open_issues,url:a.html_url,full_name:a.full_name,lastCommit:k()(a.pushed_at).fromNow()},!e.refreshing){o.next=12;break}return o.next=10,Object(S.put)(v.attFavoriteSuccess(r));case 10:o.next=14;break;case 12:return o.next=14,Object(S.put)(v.addFavoriteSuccess(r));case 14:o.next=19;break;case 16:o.prev=16,o.t0=o.catch(1),console.log(o.t0);case 19:case"end":return o.stop()}},C,null,[[1,16]])}var D=y.a.mark(R);function R(){return y.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(S.all)([Object(S.takeLatest)(h.ADD_REQUEST,_)]);case 2:case"end":return n.stop()}},D)}var N=Object(d.a)({sagaMonitor:null}),A=[N],U=p.a.apply(void 0,A),z=Object(p.e)(x,U);N.run(R);var F=z,T=t(25),I=t(19),J=t(29),M=t(41),Q=t(30),V=t(31),q=t(33),L=t(32),H=t(34);function P(){var n=Object(c.a)(["\n  width: 70%;\n  min-width: 500px;\n  display: flex;\n  flex-direction: column;\n  color: #222;\n  flex: 1;\n  overflow-y: auto;\n  overflow-x: hidden;\n\n  li {\n    padding: 15px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    border-radius: 3px;\n    margin: 5px 10px;\n    background: #f7f7f7;\n\n    strong {\n    }\n\n    & .wrapper-row {\n      display: flex;\n      flex-direction: row;\n      margin-left: 15px;\n    }\n\n    & a,\n    & button {\n      background: none;\n      cursor: pointer;\n      border: none;\n      border-radius: 3px;\n      text-decoration: none;\n      outline: none;\n      margin-left: 20px;\n      color: #222;\n      font-size: 100%;\n      opacity: 1;\n      transition: opacity 0.3s;\n\n      &:hover {\n        opacity: 0.7;\n      }\n    }\n  }\n"]);return P=function(){return n},n}function B(){var n=Object(c.a)(["\n  width: 70%;\n  min-width: 500px;\n  height: 60px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  div {\n    display: flex;\n  }\n\n  button {\n    margin: 5px 10px;\n    height: 35px;\n    border-radius: 50%;\n    outline: none;\n    border: none;\n    background: none;\n    font-size: 130%;\n    font-weight: bold;\n    color: #63f5b0;\n    cursor: pointer;\n  }\n"]);return B=function(){return n},n}function G(){var n=Object(c.a)(["\n  width: 70%;\n  min-width: 500px;\n  display: flex;\n  flex-direction: column;\n\n  .wrapper-row {\n    width: 100%;\n    display: flex;\n  }\n\n  input {\n    font-family: inherit;\n    flex: 1;\n    height: 55px;\n    padding: 0 20px;\n    background: #fff;\n    border: 2px solid transparent;\n    margin: 10px;\n    font-size: 18px;\n    color: #333;\n    border-radius: 3px;\n\n    border: ",";\n  }\n\n  button {\n    width: 100px;\n    height: 55px;\n    padding: 0 15px;\n    margin: 10px;\n    background: #52d89f;\n    color: #fff;\n    border: none;\n    font-size: 20px;\n    border-radius: 3px;\n    cursor: pointer;\n    transition: background 0.3s;\n\n    &:hover {\n      background: #40c68c;\n    }\n  }\n\n  span {\n    margin: 5px 10px;\n    color: #f00;\n    font-weight: 500;\n  }\n"]);return G=function(){return n},n}function K(){var n=Object(c.a)(["\n  width: 100%;\n  padding: 15px 60px;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: #273a47;\n"]);return K=function(){return n},n}var W=s.b.div(K()),X=s.b.form(G(),function(n){return n.error?"2px solid #f00":"none"}),Y=s.b.div(B()),Z=s.b.ul(P()),$=function(n){function e(){var n,t;Object(Q.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(q.a)(this,(n=Object(L.a)(e)).call.apply(n,[this].concat(r)))).state={user:"",data:[],loading:!1,error:"",pages:{}},t.componentDidMount=Object(M.a)(y.a.mark(function n(){var e;return y.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:(e=JSON.parse(localStorage.getItem("@github_favorite:user")))&&t.setState({user:e},function(){return t.handleSearchRepository()});case 2:case"end":return n.stop()}},n)})),t.handleInputChange=function(n){t.setState({user:n.target.value,error:""})},t.getPages=function(n){if(n.headers.link){var e=n.headers.link.split(", ").map(function(n){return Object(J.a)({},n.split("; ")[1].split('"')[1],n.split("; ")[0].slice(-2,-1))}),a={};e.forEach(function(n){a=Object(m.a)({},a,n)}),t.setState({pages:a})}else t.setState({pages:{}})},t.handleSubmit=function(n){n.preventDefault(),t.handleSearchRepository()},t.handleSearchRepository=Object(M.a)(y.a.mark(function n(){var e,a,r,o,i=arguments;return y.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:1,a=t.state.user,n.prev=2,t.setState({loading:!0}),n.next=6,O.get("users/".concat(a,"/repos?page=").concat(e));case 6:r=n.sent,t.getPages(r),o=r.data.map(function(n){return{full_name:n.full_name,id:n.id,name:n.name,url:n.html_url}}),t.setState({data:Object(b.a)(o),error:""}),localStorage.setItem("@github_favorite:user",JSON.stringify(a)),n.next=18;break;case 13:n.prev=13,n.t0=n.catch(2),console.log(n.t0),localStorage.removeItem("@github_favorite:user"),t.setState({data:[],pages:{},error:"Ops! N\xe3o foi poss\xedvel buscar os reposit\xf3rios deste usu\xe1rio"});case 18:return n.prev=18,t.setState({loading:!1}),n.finish(18);case 21:case"end":return n.stop()}},n,null,[[2,13,18,21]])})),t.handleStarClick=function(n){var e=t.props,a=e.favorites,r=e.removeFavorite,o=e.addFavoriteRequest;a.includes(n.id)?r(n.id):o(n.full_name,!1)},t}return Object(H.a)(e,n),Object(V.a)(e,[{key:"render",value:function(){var n=this,e=this.state,t=e.data,a=e.loading,o=e.error,i=e.pages,l=this.props.favorites;return r.a.createElement(W,null,r.a.createElement(X,{onSubmit:this.handleSubmit,error:!!o},r.a.createElement("div",{className:"wrapper-row"},r.a.createElement("input",{placeholder:"user",value:this.state.user,onChange:this.handleInputChange}),r.a.createElement("button",{type:"submit"},a?r.a.createElement("i",{className:"fa fa-spinner fa-pulse"}):"Search")),!!o&&r.a.createElement("span",null,o)),r.a.createElement(Y,null,r.a.createElement("div",null,i.first&&r.a.createElement("button",{onClick:function(){return n.handleSearchRepository(i.first)}},r.a.createElement("i",{className:"fa fa-angle-double-left"})),i.prev&&r.a.createElement("button",{onClick:function(){return n.handleSearchRepository(i.prev)}},r.a.createElement("i",{className:"fa fa-angle-left"}))),r.a.createElement("div",null,i.next&&r.a.createElement("button",{onClick:function(){return n.handleSearchRepository(i.next)}},r.a.createElement("i",{className:"fa fa-angle-right"})),i.last&&r.a.createElement("button",{onClick:function(){return n.handleSearchRepository(i.last)}},r.a.createElement("i",{className:"fa fa-angle-double-right"})))),r.a.createElement(Z,null,t.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("strong",null,e.name),r.a.createElement("div",{className:"wrapper-row"},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fa fa-external-link"})),r.a.createElement("button",{onClick:function(){return n.handleStarClick(e)}},r.a.createElement("i",{className:"fa fa-star",style:l.includes(e.id)?{color:"gold"}:{}}))))})))}}]),e}(a.Component),nn=Object(l.b)(function(n){return{favorites:n.favorites.data.map(function(n){return n.id})}},function(n){return Object(p.b)(v,n)})($);function en(){var n=Object(c.a)(["\n  width: 280px;\n  background: #fff;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: column;\n  margin: 10px;\n  position: relative;\n  cursor: pointer;\n  transition: all 0.15s;\n\n  &:hover {\n    opacity: 0.98;\n    transform: scale(1.01);\n  }\n\n  header {\n    padding: 30px 30px 10px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    color: #1a2730;\n\n    img {\n      width: 84px;\n    }\n\n    strong {\n      font-size: 18px;\n      height: 46px;\n      width: 100%;\n      text-align: center;\n      display: flex;\n      justify-content: center;\n      overflow: hidden;\n      margin: 10px 0;\n    }\n\n    small {\n      font-size: 14px;\n      color: #555;\n    }\n\n    i {\n      position: absolute;\n      top: 0px;\n      cursor: pointer;\n      padding: 10px 10px 15px;\n      opacity: 1;\n      transition: color 0.2s;\n\n      &:hover {\n        color: #40c68c;\n      }\n\n      &:first-of-type {\n        right: 0px;\n      }\n      &:last-of-type {\n        left: 0px;\n      }\n    }\n  }\n\n  ul {\n    list-style: none;\n\n    li {\n      font-weight: bold;\n      padding: 12px 20px;\n\n      small {\n        font-weight: normal;\n        font-size: 12px;\n        color: #999;\n        font-style: italic;\n      }\n      &:nth-child(2n - 1) {\n        background: #f5f5f5;\n      }\n    }\n  }\n"]);return en=function(){return n},n}function tn(){var n=Object(c.a)(["\n  text-decoration: none;\n  color: inherit;\n"]);return tn=function(){return n},n}function an(){var n=Object(c.a)(["\n  width: 100%;\n  flex: 1;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n"]);return an=function(){return n},n}function rn(){var n=Object(c.a)(["\n  width: 100%;\n  padding: 15px 60px;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  overflow-y: auto;\n"]);return rn=function(){return n},n}var on=s.b.div(rn()),ln=s.b.div(an()),cn=s.b.a(tn()),sn=s.b.div(en()),un=function(n){function e(){var n,t;Object(Q.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(q.a)(this,(n=Object(L.a)(e)).call.apply(n,[this].concat(r)))).state={data:[],loading:!1,error:!1},t}return Object(H.a)(e,n),Object(V.a)(e,[{key:"render",value:function(){var n=this.props,e=n.favorites,t=n.removeFavorite,a=n.addFavoriteRequest;return r.a.createElement(on,null,r.a.createElement(ln,null,e.map(function(n){return r.a.createElement(cn,{key:n.id,href:n.url,target:"_blank"},r.a.createElement(sn,{id:n.id},r.a.createElement("header",null,r.a.createElement("img",{src:n.img,alt:n.owner}),r.a.createElement("strong",null,n.name),r.a.createElement("small",null,n.owner),r.a.createElement("i",{className:"fa fa-close",onClick:function(e){e.preventDefault(),t(n.id)}}),r.a.createElement("i",{className:"fa fa-undo",onClick:function(e){e.preventDefault(),a(n.full_name,!0)}})),r.a.createElement("ul",null,r.a.createElement("li",null,n.stars," ",r.a.createElement("small",null,"stars")),r.a.createElement("li",null,n.forks," ",r.a.createElement("small",null,"forks")),r.a.createElement("li",null,n.issues," ",r.a.createElement("small",null,"issues")),r.a.createElement("li",null,n.lastCommit," ",r.a.createElement("small",null,"last commit")))))})))}}]),e}(a.Component),fn=Object(l.b)(function(n){return{favorites:n.favorites.data}},function(n){return Object(p.b)(v,n)})(un);function pn(){var n=Object(c.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px;\n  background: #1a2730;\n\n  h1 {\n    color: #f5f5f5;\n    text-align: center;\n    font-size: 250%;\n    flex: 5;\n  }\n\n  div {\n    flex: 3;\n    display: flex;\n    justify-content: flex-end;\n    justify-self: flex-end;\n  }\n\n  a {\n    cursor: pointer;\n    border: none;\n    margin-left: 20px;\n    text-decoration: none;\n    color: #63f5b0;\n    font-weight: bold;\n    font-size: 120%;\n    transition: all 0.2s;\n\n    &:hover {\n      opacity: 0.8;\n    }\n  }\n"]);return pn=function(){return n},n}var dn=s.b.div(pn()),mn=Object(l.b)(function(n){return{count:n.favorites.data.length}},function(n){return Object(p.b)(v,n)})(function(n){return r.a.createElement(dn,null,r.a.createElement("div",null),r.a.createElement("h1",null,"GitHub Favorite"),r.a.createElement("div",null,r.a.createElement(T.b,{to:"/"},"Search"),r.a.createElement(T.b,{to:"/favorites"},"Favorites (",n.count,")")))}),bn=function(){return r.a.createElement(T.a,null,r.a.createElement(mn,null),r.a.createElement(I.c,null,r.a.createElement(I.a,{exact:!0,path:"/",component:nn}),r.a.createElement(I.a,{path:"/favorites",component:fn})))},hn=function(){return r.a.createElement(l.a,{store:F},r.a.createElement(f,null),r.a.createElement(bn,null))};i.a.render(r.a.createElement(hn,null),document.getElementById("root"))},62:function(n,e,t){n.exports=t(110)}},[[62,1,2]]]);
//# sourceMappingURL=main.9ef84b66.chunk.js.map