(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),o=t(20),i=t.n(o),l=t(15),c=t(5),s=t(6);t(71);function u(){var n=Object(c.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    outline: none;\n  }\n\n  body, html {\n    background-color: #273a47;\n    height: 100vh;\n    text-rendering: optimizeLegibility !important;\n    -webkit-font-smoothing: antialiased !important;\n    font-family: Arial, Helvetica, sans-serif;\n\n\n  }\n\n  #root {\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .none {\n    display: none;\n  }\n\n  button {\n    outline: none;\n    border: none;\n    background: none;\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n\n  a {\n    text-decoration: none;\n    color: inherit;\n  }\n"]);return u=function(){return n},n}var f=Object(s.a)(u()),p=(t(72),t(84),t(85),t(7)),d=t(58),m=t(22),b=t(17),g={ADD_REQUEST:"favorites/ADD_REQUEST",ADD_SUCCESS:"favorites/ADD_SUCCESS",ATT_SUCCESS:"favorites/ATT_SUCCESS",REMOVE:"favorites/REMOVE"},h={data:JSON.parse(localStorage.getItem("@github_favorite:favorites"))||[]};var v={addFavoriteRequest:function(n,e){return{type:g.ADD_REQUEST,payload:{repository:n,refreshing:e}}},addFavoriteSuccess:function(n){return{type:g.ADD_SUCCESS,payload:{repository:n}}},attFavoriteSuccess:function(n){return{type:g.ATT_SUCCESS,payload:{repository:n}}},removeFavorite:function(n){return{type:g.REMOVE,payload:{id:n}}}},x=Object(p.c)({favorites:function(){var n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,a=function(n){return localStorage.setItem("@github_favorite:favorites",JSON.stringify(Object(b.a)(n)))};switch(t.type){case g.ADD_SUCCESS:return a(n=[].concat(Object(b.a)(e.data),[t.payload.repository])),Object(m.a)({},e,{data:Object(b.a)(n)});case g.REMOVE:return a(n=e.data.filter(function(n){return n.id!==t.payload.id})),Object(m.a)({},e,{data:Object(b.a)(n)});case g.ATT_SUCCESS:var r=t.payload.repository;return a(n=e.data.map(function(n){return n.id===r.id?r:n})),Object(m.a)({},e,{data:Object(b.a)(n)});default:return e}}}),E=t(12),y=t.n(E),w=t(16),S=t(52),k=t.n(S),O=t(53),j=t.n(O).a.create({baseURL:"https://api.github.com"}),_=y.a.mark(C);function C(n){var e,t,a,r;return y.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=n.payload,o.prev=1,o.next=4,Object(w.call)(j.get,"repos/".concat(e.repository));case 4:if(t=o.sent,a=t.data,r={img:a.owner.avatar_url,id:a.id,owner:a.owner.login,name:a.name,description:a.description,stars:a.stargazers_count,forks:a.forks_count,issues:a.open_issues,url:a.html_url,full_name:a.full_name,lastCommit:k()(a.pushed_at).fromNow()},!e.refreshing){o.next=13;break}return o.next=10,Object(w.put)(v.attFavoriteSuccess(r));case 10:o.t0=o.sent,o.next=16;break;case 13:return o.next=15,Object(w.put)(v.addFavoriteSuccess(r));case 15:o.t0=o.sent;case 16:return o.abrupt("return",o.t0);case 19:o.prev=19,o.t1=o.catch(1),console.log(o.t1);case 22:case"end":return o.stop()}},_,null,[[1,19]])}var R=y.a.mark(D);function D(){return y.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(w.all)([Object(w.takeLatest)(g.ADD_REQUEST,C)]);case 2:case"end":return n.stop()}},R)}var N=Object(d.a)({sagaMonitor:null}),A=[N],z=p.a.apply(void 0,A),U=Object(p.e)(x,z);N.run(D);var F=U,T=t(29),I=t(19),J=t(28),M=t(36),Q=t(54),V=t(55),q=t(59),L=t(56),H=t(61);function P(){var n=Object(c.a)([""]);return P=function(){return n},n}function B(){var n=Object(c.a)(["\n  width: 70%;\n  min-width: 500px;\n  display: flex;\n  flex-direction: column;\n  color: #222;\n  flex: 1;\n  overflow-y: auto;\n  overflow-x: hidden;\n\n  &::-webkit-scrollbar {\n    width: 10px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: #fff;\n    -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: #40c68c;\n    outline: 1px solid slategrey;\n  }\n\n  li {\n    padding: 15px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    border-radius: 3px;\n    margin: 5px 10px;\n    background: #f7f7f7;\n\n    & .wrapper-row {\n      display: flex;\n      flex-direction: row;\n      margin-left: 15px;\n    }\n\n    & a {\n      font-weight: bold;\n      transition: all 0.2s;\n\n      &:hover {\n        opacity: 0.7;\n      }\n    }\n\n    & button {\n      margin-left: 20px;\n      color: #222;\n      font-size: 100%;\n      transition: opacity 0.2s;\n\n      &:hover {\n        opacity: 0.7;\n      }\n    }\n  }\n"]);return B=function(){return n},n}function G(){var n=Object(c.a)(["\n  width: 70%;\n  min-width: 500px;\n  height: 60px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  div {\n    display: flex;\n  }\n\n  button {\n    margin: 5px 10px;\n    height: 35px;\n    border-radius: 50%;\n    outline: none;\n    border: none;\n    background: none;\n    font-size: 130%;\n    font-weight: bold;\n    color: #63f5b0;\n    cursor: pointer;\n  }\n"]);return G=function(){return n},n}function K(){var n=Object(c.a)(["\n  width: 70%;\n  min-width: 500px;\n  display: flex;\n  flex-direction: column;\n\n  .wrapper-row {\n    width: 100%;\n    display: flex;\n  }\n\n  input {\n    font-family: inherit;\n    flex: 1;\n    height: 55px;\n    padding: 0 20px;\n    background: #fff;\n    border: 2px solid transparent;\n    margin: 10px;\n    font-size: 18px;\n    color: #333;\n    border-radius: 3px;\n\n    border: ",";\n  }\n\n  button {\n    width: 100px;\n    height: 55px;\n    padding: 0 15px;\n    margin: 10px;\n    background: #52d89f;\n    color: #fff;\n    border: none;\n    font-size: 20px;\n    border-radius: 3px;\n    cursor: pointer;\n    transition: background 0.3s;\n\n    &:hover {\n      background: #40c68c;\n    }\n  }\n\n  span {\n    margin: 5px 10px;\n    color: #f00;\n    font-weight: 500;\n  }\n"]);return K=function(){return n},n}function W(){var n=Object(c.a)(["\n  width: 100%;\n  padding: 15px 60px;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: #273a47;\n"]);return W=function(){return n},n}var X=s.b.div(W()),Y=s.b.form(K(),function(n){return n.error?"2px solid #f00":"none"}),Z=s.b.div(G()),$=s.b.ul(B()),nn=s.b.button.attrs({type:"button"})(P()),en=function(n){function e(){var n,t;Object(Q.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(q.a)(this,(n=Object(L.a)(e)).call.apply(n,[this].concat(r)))).state={user:"",data:[],loading:!1,error:"",pages:{}},t.componentDidMount=Object(M.a)(y.a.mark(function n(){var e;return y.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:(e=JSON.parse(localStorage.getItem("@github_favorite:user")))&&t.setState({user:e},function(){return t.handleSearchRepository()});case 2:case"end":return n.stop()}},n)})),t.handleInputChange=function(n){t.setState({user:n.target.value,error:""})},t.getPages=function(n){if(n.headers.link){var e=n.headers.link.split(", ").map(function(n){return Object(J.a)({},n.split("; ")[1].split('"')[1],n.split("; ")[0].slice(-2,-1))}),a={};e.forEach(function(n){a=Object(m.a)({},a,n)}),t.setState({pages:a})}else t.setState({pages:{}})},t.handleSubmit=function(n){n.preventDefault(),t.handleSearchRepository()},t.handleSearchRepository=Object(M.a)(y.a.mark(function n(){var e,a,r,o,i=arguments;return y.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:1,a=t.state.user,n.prev=2,t.setState({loading:!0}),n.next=6,j.get("users/".concat(a,"/repos?page=").concat(e));case 6:r=n.sent,t.getPages(r),o=r.data.map(function(n){return{full_name:n.full_name,id:n.id,name:n.name,url:n.html_url}}),t.setState({data:Object(b.a)(o),error:""}),localStorage.setItem("@github_favorite:user",JSON.stringify(a)),n.next=18;break;case 13:n.prev=13,n.t0=n.catch(2),console.log(n.t0),localStorage.removeItem("@github_favorite:user"),t.setState({data:[],pages:{},error:"Ops! N\xe3o foi poss\xedvel buscar os reposit\xf3rios deste usu\xe1rio"});case 18:return n.prev=18,t.setState({loading:!1}),n.finish(18);case 21:case"end":return n.stop()}},n,null,[[2,13,18,21]])})),t.handleStarClick=function(n){var e=t.props,a=e.favorites,r=e.removeFavorite,o=e.addFavoriteRequest;return a.includes(n.id)?r(n.id):o(n.full_name,!1)},t}return Object(H.a)(e,n),Object(V.a)(e,[{key:"render",value:function(){var n=this,e=this.state,t=e.user,a=e.data,o=e.loading,i=e.error,l=e.pages,c=this.props.favorites;return r.a.createElement(X,null,r.a.createElement(Y,{onSubmit:this.handleSubmit,error:!!i},r.a.createElement("div",{className:"wrapper-row"},r.a.createElement("input",{placeholder:"user",value:t,onChange:this.handleInputChange}),r.a.createElement("button",{type:"submit"},o?r.a.createElement("i",{className:"fa fa-spinner fa-pulse"}):"Search")),!!i&&r.a.createElement("span",null,i)),r.a.createElement(Z,null,r.a.createElement("div",null,l.first&&r.a.createElement(nn,{onClick:function(){return n.handleSearchRepository(l.first)}},r.a.createElement("i",{className:"fa fa-angle-double-left"})),l.prev&&r.a.createElement(nn,{onClick:function(){return n.handleSearchRepository(l.prev)}},r.a.createElement("i",{className:"fa fa-angle-left"}))),r.a.createElement("div",null,l.next&&r.a.createElement(nn,{onClick:function(){return n.handleSearchRepository(l.next)}},r.a.createElement("i",{className:"fa fa-angle-right"})),l.last&&r.a.createElement(nn,{onClick:function(){return n.handleSearchRepository(l.last)}},r.a.createElement("i",{className:"fa fa-angle-double-right"})))),r.a.createElement($,null,a.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.name),r.a.createElement("button",{type:"button",onClick:function(){return n.handleStarClick(e)}},r.a.createElement("i",{className:"fa fa-star",style:c.includes(e.id)?{color:"gold"}:{}})))})))}}]),e}(a.Component),tn=Object(l.b)(function(n){return{favorites:n.favorites.data.map(function(n){return n.id})}},function(n){return Object(p.b)(v,n)})(en);function an(){var n=Object(c.a)(["\n  padding: 10px 20px;\n\n  &:nth-child(2n - 1) {\n    background: #f5f5f5;\n  }\n\n  span {\n    font-weight: bold;\n    margin-right: 5px;\n  }\n\n  small {\n    font-size: 12px;\n    color: #999;\n    font-style: italic;\n  }\n"]);return an=function(){return n},n}function rn(){var n=Object(c.a)(["\n  list-style: none;\n  padding: 20px 0 0;\n"]);return rn=function(){return n},n}function on(){var n=Object(c.a)(["\n  padding: 0 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: #1a2730;\n\n  img {\n    width: 60px;\n  }\n\n  strong {\n    font-size: 18px;\n    height: 46px;\n    width: 100%;\n    text-align: center;\n    display: flex;\n    justify-content: center;\n    overflow: hidden;\n    margin: 10px 0;\n  }\n\n  small {\n    font-size: 14px;\n    color: #555;\n  }\n"]);return on=function(){return n},n}function ln(){var n=Object(c.a)(["\n  i {\n    transition: color 0.2s;\n    font-size: 110%;\n\n    &:hover {\n      color: #40c68c;\n    }\n  }\n"]);return ln=function(){return n},n}function cn(){var n=Object(c.a)(["\n  padding: 8px 10px 0;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return cn=function(){return n},n}function sn(){var n=Object(c.a)(["\n  width: 280px;\n  display: flex;\n  flex-direction: column;\n  margin: 10px;\n  flex-shrink: 0;\n\n  background: #fff;\n  border-radius: 3px;\n  transition: all 0.15s;\n\n  &:hover {\n    transform: scale(1.01);\n  }\n"]);return sn=function(){return n},n}function un(){var n=Object(c.a)(["\n  width: 100%;\n  padding: 15px 60px;\n  flex: 1;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  overflow-y: scroll;\n\n  &::-webkit-scrollbar {\n    width: 10px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: #fff;\n    -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: #40c68c;\n    outline: 1px solid slategrey;\n  }\n"]);return un=function(){return n},n}var fn=s.b.div(un()),pn=s.b.div(sn()),dn=s.b.div(cn()),mn=s.b.button.attrs({type:"button"})(ln()),bn=s.b.a(on()),gn=s.b.ul(rn()),hn=s.b.li(an()),vn=Object(l.b)(function(n){return{favorites:n.favorites.data}},function(n){return Object(p.b)(v,n)})(function(n){var e=n.favorites,t=n.removeFavorite,a=n.addFavoriteRequest;return r.a.createElement(fn,null,e.map(function(n){return r.a.createElement(pn,{key:n.id},r.a.createElement(dn,null,r.a.createElement(mn,{onClick:function(){return a(n.full_name,!0)}},r.a.createElement("i",{className:"fa fa-undo"})),r.a.createElement(mn,{onClick:function(){return t(n.id)}},r.a.createElement("i",{className:"fa fa-close"}))),r.a.createElement(bn,{href:n.url,target:"_blank"},r.a.createElement("img",{src:n.img,alt:n.owner}),r.a.createElement("strong",null,n.name),r.a.createElement("small",null,n.owner)),r.a.createElement(gn,null,r.a.createElement(hn,null,r.a.createElement("span",null,n.stars),r.a.createElement("small",null,"stars")),r.a.createElement(hn,null,r.a.createElement("span",null,n.forks),r.a.createElement("small",null,"forks")),r.a.createElement(hn,null,r.a.createElement("span",null,n.issues),r.a.createElement("small",null,"issues")),r.a.createElement(hn,null,r.a.createElement("span",null,n.lastCommit),r.a.createElement("small",null,"last commit"))))}))});function xn(){var n=Object(c.a)(["\n  color: #63f5b0;\n  font-size: 120%;\n  opacity: 0.7;\n  transition: all 0.2s;\n\n  &:hover {\n    opacity: 1;\n  }\n\n  &.active {\n    opacity: 1;\n  }\n"]);return xn=function(){return n},n}function En(){var n=Object(c.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px;\n  background: #1a2730;\n\n  h1 {\n    color: #f5f5f5;\n    margin: 0 10px;\n    text-align: center;\n    font-size: 250%;\n    flex: 5;\n  }\n"]);return En=function(){return n},n}var yn=s.b.div(En()),wn=Object(s.b)(T.b).attrs({exact:!0})(xn()),Sn=Object(l.b)(function(n){return{count:n.favorites.data.length}},function(n){return Object(p.b)(v,n)})(function(n){var e=n.count;return r.a.createElement(yn,null,r.a.createElement(wn,{to:"/"},"Search"),r.a.createElement("h1",null,"GitHub Favorite"),r.a.createElement(wn,{to:"/favorites"},"Favorites (".concat(e,")")))}),kn=function(){return r.a.createElement(T.a,{basename:"/github_favorite"},r.a.createElement(Sn,null),r.a.createElement(I.d,null,r.a.createElement(I.b,{exact:!0,path:"/",component:tn}),r.a.createElement(I.b,{path:"/favorites",component:vn}),r.a.createElement(I.a,{to:"/"})))},On=function(){return r.a.createElement(l.a,{store:F},r.a.createElement(f,null),r.a.createElement(kn,null))};i.a.render(r.a.createElement(On,null),document.getElementById("root"))},62:function(n,e,t){n.exports=t(110)}},[[62,1,2]]]);
//# sourceMappingURL=main.7c29398f.chunk.js.map